<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <style>
        body {
            margin: 0;
        }

        div div {
            padding: 5px 0;
            border: solid 2px rebeccapurple;
            margin: 3px;
            text-align: center;
            flex-basis:15%;
            background:yellow;
        }
    </style>

</head>

<body>
    <button id="apitest" style="height:30px ;width:33%;margin-left:33%">click button to fetch data</button>
    <div style="color:blue ; display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-evenly;
        align-content: center;
        height: 500px; margin-top:30px" id="result">
           
    
    
    
    
    
    </div>
    <script>
        document.getElementById("apitest").addEventListener("click", () => {
            fetch("https://datausa.io/api/data?drilldowns=Nation&measures=Population")
                .then((res) => res.json())
                .then((data) => {
                    console.log(data);
                    let result = document.getElementById('result');
                    let header='<div>ID NATION</div><div>NATION</div><div>ID YEAR</div><div>YEAR</div><div>POPULATION</div><div>SLUG NATION</div>' 
                    result.innerHTML=header;
                    for (let i = 0; i < data.data.length; i++) {
                        console.log(data.data[i]["ID Nation"]);
                        console.log(data.data[i]["Nation"]);
                        console.log(data.data[i]["ID Year"]);
                        console.log(data.data[i]["Year"]);
                        console.log(data.data[i]["Population"]);
                        console.log(data.data[i]["Slug Nation"]);

                       
                        let id = document.createElement('div');
                        id.innerHTML = data.data[i]["ID Nation"];


                        let nation = document.createElement('div');
                        nation.innerHTML = data.data[i]["Nation"];
                

                        let idyear = document.createElement('div');
                        idyear.innerHTML = data.data[i]["ID Year"];
                


                        let year = document.createElement('div');
                        year.innerHTML = data.data[i]["Year"];
        

                        let population = document.createElement('div');
                        population.innerHTML = data.data[i]["Population"];
                        


                        let slug = document.createElement('div');
                        slug.innerHTML = data.data[i]["Slug Nation"];
        
                        result.append(id, nation, idyear, year, population, slug);
                    }


                })
        })
    </script>
</body>

</html>